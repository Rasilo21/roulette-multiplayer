:root{
  --table-offset: 56px;                 /* baja el tablero cuando hay 2 columnas */

  --felt:#0c6a34; --felt2:#0a5a2c; --line:#fff;
  --ui:#0b0e13; --ui2:#121722; --ink:#eef3fb; --muted:#98a4b5; --accent:#ffd24a;
  --cellText: 700 16px/1.1 "Montserrat", system-ui, Arial;
  --chipShadow: 0 5px 0 rgba(0,0,0,.35);
  --cw-sep: .7deg;                 /* grosor separador entre casillas */

}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#0a0e14;color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial}

/* Topbar */
.topbar{display:flex;gap:14px;align-items:center;padding:10px 16px;background:#0a0d12;border-bottom:1px solid #1b2230}
.topbar .title{flex:1;text-align:center;font-weight:800;letter-spacing:.3px}
.stat{font-weight:700}.stat small{color:var(--muted);margin-right:6px}

/* Stage + dos columnas (rueda izquierda / mesa derecha) */
.stage{width:100vw;padding:0 12px}
.arena{background:linear-gradient(180deg,#0f141b,#0a0e14);border:1px solid #1b2230;border-radius:12px;padding:14px}
.layout{display:grid;grid-template-columns:clamp(420px,36vw,560px) 1fr;column-gap:16px;align-items:start}


/* ==================== TABLERO ==================== */
.felt{position:relative;background:linear-gradient(180deg,var(--felt),var(--felt2));border-radius:12px;padding:14px;border:6px solid #e9e9e9;margin-top:var(--table-offset)}
.tableFrame{position:relative;border:3px solid var(--line);border-radius:8px;padding:8px;background:transparent}
.board{display:grid;grid-template-columns:86px repeat(12,1fr) 90px;gap:0;grid-template-rows:repeat(3,minmax(58px,auto)) auto}
/* 0 vertical a la izquierda */
.board #num-0{grid-column:1;grid-row:1 / span 3}
/* 2to1 a la derecha (columna final) */
.board #col-1{grid-column:14;grid-row:1}
.board #col-2{grid-column:14;grid-row:2}
.board #col-3{grid-column:14;grid-row:3}
/* Docenas y externas en la fila inferior */
.board #dz-1,.board #dz-2,.board #dz-3,
.board #lh-low,.board #ev-even,.board #ev-odd,.board #lh-high,
.board #color-red,.board #color-black{grid-row:4}



/* Posiciones exactas de los numeros 1..36 (columnas 2..13) */
.board #num-1{grid-column:2;grid-row:3}
.board #num-2{grid-column:2;grid-row:2}
.board #num-3{grid-column:2;grid-row:1}
.board #num-4{grid-column:3;grid-row:3}
.board #num-5{grid-column:3;grid-row:2}
.board #num-6{grid-column:3;grid-row:1}
.board #num-7{grid-column:4;grid-row:3}
.board #num-8{grid-column:4;grid-row:2}
.board #num-9{grid-column:4;grid-row:1}
.board #num-10{grid-column:5;grid-row:3}
.board #num-11{grid-column:5;grid-row:2}
.board #num-12{grid-column:5;grid-row:1}
.board #num-13{grid-column:6;grid-row:3}
.board #num-14{grid-column:6;grid-row:2}
.board #num-15{grid-column:6;grid-row:1}
.board #num-16{grid-column:7;grid-row:3}
.board #num-17{grid-column:7;grid-row:2}
.board #num-18{grid-column:7;grid-row:1}
.board #num-19{grid-column:8;grid-row:3}
.board #num-20{grid-column:8;grid-row:2}
.board #num-21{grid-column:8;grid-row:1}
.board #num-22{grid-column:9;grid-row:3}
.board #num-23{grid-column:9;grid-row:2}
.board #num-24{grid-column:9;grid-row:1}
.board #num-25{grid-column:10;grid-row:3}
.board #num-26{grid-column:10;grid-row:2}
.board #num-27{grid-column:10;grid-row:1}
.board #num-28{grid-column:11;grid-row:3}
.board #num-29{grid-column:11;grid-row:2}
.board #num-30{grid-column:11;grid-row:1}
.board #num-31{grid-column:12;grid-row:3}
.board #num-32{grid-column:12;grid-row:2}
.board #num-33{grid-column:12;grid-row:1}
.board #num-34{grid-column:13;grid-row:3}
.board #num-35{grid-column:13;grid-row:2}
.board #num-36{grid-column:13;grid-row:1}
.cell{position:relative;min-height:58px;display:grid;place-items:center;border:2px solid var(--line);color:#fff;font:var(--cellText);text-shadow:0 1px 0 #000;user-select:none;cursor:pointer}
.cell.red{background:#c51f2b}.cell.black{background:#151921}.cell.green{background:#0aa061}.cell.out{background:#0f7c36}
.sum{position:absolute;right:6px;bottom:6px;background:#000a;border:1px solid #fff3;padding:2px 6px;border-radius:999px;font:600 12px/1 system-ui;display:none}
.diamond{width:22px;height:22px;transform:rotate(45deg);background:#0000;border:10px solid transparent}
.diamond.red{border-color:#c51f2b}.diamond.black{border-color:#0f131a}

/* Rack / chips / botones */
.rack{margin-top:14px;background:#0b0e13;border:1px solid #1b2230;border-radius:10px;display:flex;gap:14px;align-items:center;padding:10px;overflow-x:auto}
.chips{display:flex;gap:12px;flex-wrap:nowrap}
.chip{min-width:64px;min-height:64px;border-radius:50%;display:grid;place-items:center;font-weight:900;cursor:pointer;position:relative;color:#0a0d12;box-shadow:var(--chipShadow);flex:0 0 auto}
.chip::before{content:"";position:absolute;inset:9px;border-radius:50%;border:8px dashed #0006}
.chip.active{outline:3px solid var(--accent)}
.c-010{background:#e5e7eb}.c-050{background:#c7d2fe}.c-1{background:#a7f3d0}.c-5{background:#93c5fd}
.c-25{background:#fca5a5}.c-100{background:#fde68a}.c-500{background:#e9d5ff}.c-1k{background:#fef08a}
.btn{cursor:pointer;user-select:none;padding:10px 16px;border-radius:8px;border:1px solid #293247;background:#151a23;color:#e8edf2;font-weight:800}
.btn.primary{background:linear-gradient(180deg,#ffd74a,#ffbb00);color:#151000;border-color:#f2c100}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn.danger{background:#2a1215;border-color:#5b171c;color:#ffd6d6}

/* Lateral */
.side{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
.panel{background:#0b0e13;border:1px solid #1b2230;border-radius:10px;padding:10px}
.tagb{display:inline-block;padding:6px 10px;border-radius:999px;font-weight:800;margin:4px 6px 0 0;border:1px solid #273047}
.tagb.red{background:#5a0c12}.tagb.black{background:#0f121a}.tagb.green{background:#0b5135;color:#d7ffef}
.toast{position:fixed;left:50%;bottom:28px;transform:translateX(-50%);background:#0b0e13;border:1px solid #273047;padding:10px 14px;border-radius:10px;display:none;z-index:9999}

/* ALL-IN focus mode */
/* Blur everything inside felt except the board cells */
.felt{position:relative}
body.allin-mode .felt::after{content:"";position:absolute;inset:0;border-radius:12px;background:rgba(0,0,0,.25);backdrop-filter:blur(3px);z-index:4;pointer-events:none}
.tableFrame{position:relative;z-index:6}
.board{position:relative;z-index:7}
.board .cell{position:relative;z-index:8}
body.allin-mode .board .cell{animation:cellGlow 1.1s ease-in-out infinite alternate}
@keyframes cellGlow{from{box-shadow:0 0 0 0 rgba(255,215,0,.25)}to{box-shadow:0 0 14px 4px rgba(255,215,0,.45)}}

/* Eventos: área con scroll para no deformar el layout */
#log{display:block;max-height:220px;overflow:auto;padding-right:6px}

/* HUD de jugadores */
.players-hud{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
.player-pill{display:flex;align-items:center;gap:8px;background:#0b0e13;border:1px solid #273047;border-radius:999px;padding:6px 10px}
.player-pill .name{font-weight:800}
.player-pill .bal{color:#c0cad7}
.player-pill.leader{border-color:#f2c100; box-shadow:0 0 0 2px #f2c10033 inset}
.player-pill .dot{width:8px;height:8px;border-radius:50%;background:#7a8aa1}
.player-pill.ready .dot{background:#21d07a}

/* ====== Overlay de inicio / Lobby ====== */
.start-overlay{position:fixed;inset:0;background:linear-gradient(180deg,#0f141bcc,#0a0e14cc);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;padding:16px;z-index:9998}
.start-card{width:min(840px,96vw);background:#0b0e13;border:1px solid #1b2230;border-radius:12px;padding:16px}
.start-card h2{margin:6px 0 2px}
.start-card p{margin:0 0 10px;color:var(--muted)}
.start-actions{display:flex;gap:12px;justify-content:center;margin-top:8px}
.input{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #273047;background:#0f131a;color:#e8edf2}
.form-row{display:grid;grid-template-columns:120px 1fr;align-items:center;gap:10px;margin:8px 0}
.lobby-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:8px}
@media (max-width:800px){.lobby-grid{grid-template-columns:1fr}}
.code-badge{display:inline-flex;align-items:center;background:#0b0e13;border:1px dashed #384561;border-radius:10px;padding:6px 10px;font-weight:800}
.code-badge span{letter-spacing:2px}

/* Responsive: una sola columna */
@media (max-width:1199px),(max-height:800px){
  .layout{grid-template-columns:1fr}
  .wheel-wrap{max-width:640px;margin:0 auto 20px}
  .felt{margin-top:0}
}


/* ===== RUEDA 2D (plana, sin sombras) ===== */
:root{
  --cw-sep: .7deg; /* anchura del separador entre gajos; ajusta si quieres */
}

.wheel2d{
  position: relative;
  width: min(100%, 560px);
  aspect-ratio: 1 / 1;
  margin: 50px auto;
}

.wheel2d__canvas{
  width: 100%;
  height: 100%;
  display: block;
  border-radius: 50%;
  background: #0f131a;               /* aro exterior */
  border: 4px solid #2eb0e4;   /* sin sombras */
  transition: transform 5.2s cubic-bezier(.15,.8,.08,1);
  will-change: transform;
}

.wheel2d__pointer{
  position: absolute;
  left: 50%;
  top: -15px;                          /* “trigger” arriba */
  transform: translate(-50%, -100%) rotate(180deg);  /* apunta hacia abajo */
  width: 0; height: 0; z-index: 5; pointer-events: none;
  border-left: 14px solid transparent;
  border-right:14px solid transparent;
  border-bottom:26px solid #ff4136;   /* rojo sólido */
}
